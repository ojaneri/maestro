1. Identify all current uses of `instances.json` and related local files (`instances`, `ai` settings, etc.) across Node and PHP layers, cataloging which fields must survive in SQL. *(Status: done — inspected Node (`whatsapp-server-intelligent.js`) and both dashboards, confirmed which metadata/AI settings are consumed.)*
2. Design a database schema (tables like `instances`, `instance_settings`, `instance_logins`) that captures instance metadata, AI config, phone binding, and status timestamps, then write migration scripts to seed existing JSON data into the new tables. *(Status: done — schema implemented and `migrate_instances.js` seeds `instances.json` into SQLite.)*
3. Update the Node service to read/write configuration from the new SQL tables, including health/status APIs, AI settings endpoints, connection state tracking, and runtime metadata (e.g., `updateInstancePhoneNumber`, `persistAIConfig`). *(Status: done — new `/api/instances` endpoints expose SQL-backed instance metadata and real-time connection status updates now persist.)*
4. Refactor the Maestro dashboard (`index.php`, `conversas.php`) to query the SQL backend instead of `instances.json`, ensuring the sidebar, forms, and helper text display the SQL-backed values and update them via AJAX. *(Status: done — both dashboards now merge sqlite-backed instance records with the legacy JSON fallback via `instance_data.php`, so the UI surfaces SQL metadata while keeping the fallback persistence layer.)*
5. Create admin utilities (PHP scripts or commands) to sync leftover JSON data into SQL, clean up unused columns/files, and document how to operate the new SQL-based pipeline. *(Status: done — `sql_admin.php` now syncs `instances.json` → `chat_data.db`, trims legacy fields, and explains how to run the SQL pipeline.)*
